(this["webpackJsonpspokane-surf-report"]=this["webpackJsonpspokane-surf-report"]||[]).push([[0],{20:function(t,e,s){},32:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/icon-ok-hand.3d848d14.svg"},33:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/icon-thumbs-up.7e0d5e98.svg"},34:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/icon-thumbs-down.1f6e57f4.svg"},46:function(t,e,s){},47:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/logo-surf-spokane.5f2189c7.svg"},48:function(t,e,s){},53:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/icon-help.458a1fb4.svg"},54:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/icon-contact.8d45856f.svg"},55:function(t,e,s){},56:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/box-animation.d9501f0a.gif"},57:function(t,e,s){},74:function(t,e,s){},75:function(t,e,s){},76:function(t,e,s){},77:function(t,e,s){},80:function(t,e,s){},81:function(t,e,s){},82:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/surf_app_snippet.0c34f7f5.jpg"},83:function(t,e,s){"use strict";s.r(e),e.default=s.p+"static/media/map_snippet.d426d0b9.jpg"},84:function(t,e,s){},85:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s(1),i=s.n(a),c=s(17),o=s.n(c),r=s(13),l=s(6),d=s(2),p=s(3),u=s(7),h=s(5),j=s(4),b=s(21),f=(s(46),function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(p.a)(a,[{key:"handleClick",value:function(t){this.props.toggleMapVisibility()}},{key:"getMapVisibleClass",value:function(){return this.props.mapButtomVisible?"map-button-display":"map-button-display hidden"}},{key:"render",value:function(){return Object(n.jsxs)("header",{children:[Object(n.jsx)("img",{src:s(47).default,alt:"Spokane Surf Logo"}),Object(n.jsx)("h1",{children:"Spokane Surf Report"}),Object(n.jsx)("input",{id:"map-button",className:"map-button",type:"checkbox",checked:this.props.mapVisible,onClick:this.handleClick,readOnly:!0}),Object(n.jsxs)("label",{htmlFor:"map-button",className:this.getMapVisibleClass(),children:[Object(n.jsx)("h2",{children:"Map"}),Object(n.jsx)("svg",{version:"1.1",id:"arrow",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 50 50",enableBackground:"new 0 0 50 50",children:Object(n.jsx)("polygon",{points:"25,6.555 50.009,6.555 37.505,25 25,43.445 12.496,25 -0.008,6.555 "})})]})]})}}]),a}(a.Component)),m=(s(48),function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).showHelp=s.showHelp.bind(Object(u.a)(s)),s.showContact=s.showContact.bind(Object(u.a)(s)),s}return Object(p.a)(a,[{key:"showHelp",value:function(t){this.props.showHelp(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"showContact",value:function(t){this.props.showContact(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"close",value:function(t){this.props.close()}},{key:"render",value:function(){return Object(n.jsxs)("footer",{children:[Object(n.jsx)("div",{className:"copyright",children:Object(n.jsx)("p",{children:"\xa9 2020 Spokane Surf Report - All rights reserved."})}),Object(n.jsxs)("div",{className:"options-bar",children:[Object(n.jsxs)(r.b,{className:"option",to:"/help",children:[Object(n.jsx)("img",{src:s(53).default,alt:"help"}),Object(n.jsx)("h2",{children:"Help"})]}),Object(n.jsxs)(r.b,{className:"option",to:"/contact",children:[Object(n.jsx)("img",{src:s(54).default,alt:"contact"}),Object(n.jsx)("h2",{children:"Contact"})]})]})]})}}]),a}(a.Component)),O=(s(20),s(55),function(t){return Object(b.usePromiseTracker)().promiseInProgress&&Object(n.jsx)("div",{className:"data-card-deck",children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{className:"data-card",children:Object(n.jsx)("div",{className:"loading-container",children:Object(n.jsx)("img",{className:"load-gif",src:s(56).default,alt:"Loading Animation"})})})})})}),x=s(16),v=s(18),g=function(t){var e=t.currentValue,s=t.min,n=t.max,a=t.optimumFlowLow_i,i=t.optimumFlowHigh_i;return void 0===e||void 0===s||void 0===n?"NoData":e>s&&e<n?e>a&&e<i?"spot-optimum":"spot-in":"spot-out"},k=function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},y=function(t,e){var s=t.currentValue,n=t.min,a=t.max,i=e.currentValue,c=e.min,o=e.max,r=Math.abs(n-n)<Math.abs(a-s)?Math.abs(n-s)/n:Math.abs(s-a)/a,l=Math.abs(c-i)<Math.abs(o-i)?Math.abs(c-i)/c:Math.abs(i-o)/o;if("spot-optimum"===g(t)&&("spot-in"===g(e)||"spot-out"===g(e)))return-1;if("spot-optimum"===g(e)&&("spot-in"===g(t)||"spot-out"===g(t)))return 1;if("spot-in"===g(t)&&"spot-out"===g(e))return-1;if("spot-in"===g(e)&&"spot-out"===g(t))return 1;if("spot-out"===g(t)&&"spot-out"===g(e)){if(r<l)return-1;if(r>l)return 1}return 0},N=(s(57),s.p+"static/media/map-icon-thumbs-up.29043a60.svg"),S=s.p+"static/media/map-icon-thumbs-down.c01b5a18.svg",w=s.p+"static/media/map-icon-ok-hand.e48c07d2.svg",C=s.p+"static/media/map-icon-no-data.743d3a86.svg",M=function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;Object(d.a)(this,s),(n=e.call(this,t)).handleMarkerClick=function(t,e){n.props.filterSpots(t.id),n.setState({selectedSpot:t,activeMarker:e,showingInfoWindow:!0,center:{lat:t.position.lat,lng:t.position.lng}})},n.onInfoWindowClose=function(){return n.setState({activeMarker:null,showingInfoWindow:!1},(function(){n.props.unfilterSpots()}))};return n.state={center:n.getCenter(n.props.spots),zoom:n.getZoom(n.props.spots,0),showingInfoWindow:!1,activeMarker:{},selectedSpot:{},mapError:!1},n.googleBaseUrl="http://maps.google.com/maps?q=loc:",n.containerRef=i.a.createRef(),n}return Object(p.a)(s,[{key:"getZIndex",value:function(t){var e=g(t);return"spot-optimum"===e?100:"spot-in"===e?10:"spot-out"===e?5:1}},{key:"getIcon",value:function(t){var e=g(t);return"spot-optimum"===e?w:"spot-in"===e?N:"spot-out"===e?S:C}},{key:"getCenter",value:function(t){return 1===t.length?{lat:t[0].location.lat,lng:t[0].location.lon}:t.length>1?{lat:(Math.min.apply(Math,Object(x.a)(t.map((function(t){return t.location.lat}))))+Math.max.apply(Math,Object(x.a)(t.map((function(t){return t.location.lat})))))/2,lng:(Math.min.apply(Math,Object(x.a)(t.map((function(t){return t.location.lon}))))+Math.max.apply(Math,Object(x.a)(t.map((function(t){return t.location.lon})))))/2}:{lat:47.7061299,lng:-117.1419032}}},{key:"getZoom",value:function(t,e){var s=11;if(e>0){var n=Math.min.apply(Math,Object(x.a)(t.map((function(t){return t.location.lon})))),a=Math.max.apply(Math,Object(x.a)(t.map((function(t){return t.location.lon}))))-n;a<0&&(a+=360),s=Math.floor(Math.log(360*e/a/256)/Math.LN2),console.log("Zoom: ".concat(s)),s!==1/0&&s!==-1/0||(s=9)}return s}},{key:"componentDidMount",value:function(){var t=parseInt(this.containerRef.current.offsetWidth);this.setState({zoom:this.getZoom(this.props.spots,t)})}},{key:"render",value:function(){var t=this;return this.state.mapError?Object(n.jsx)("div",{className:"map-container",children:" Map Not Available!"}):Object(n.jsx)("div",{className:this.props.mapVisible?"map-container":"map-container hidden",ref:this.containerRef,children:Object(n.jsxs)(v.Map,{className:"map",google:this.props.google,zoom:this.state.zoom,initialCenter:{lat:this.state.center.lat,lng:this.state.center.lng},center:{lat:this.state.center.lat,lng:this.state.center.lng},onMouseout:this.handleMapMouseOut,children:[this.props.spots.map((function(e){return Object(n.jsx)(v.Marker,{name:e.name,id:e.spot_id,value:e.currentValue,unit:e.unit,parkingLat:e.accessLoc.lat,parkingLng:e.accessLoc.lon,position:{lat:e.location.lat,lng:e.location.lon},icon:t.getIcon(e),zIndex:t.getZIndex(e),onClick:t.handleMarkerClick},e.spot_id)})),this.props.spots.map((function(e){return Object(n.jsx)(v.InfoWindow,{marker:t.state.activeMarker,visible:t.state.showingInfoWindow,onClose:t.onInfoWindowClose,children:Object(n.jsxs)("div",{className:"info-window",children:[Object(n.jsx)("h2",{children:"".concat(t.state.selectedSpot.name," : ")+"".concat(t.state.selectedSpot.value," ")+"".concat(t.state.selectedSpot.unit)}),Object(n.jsx)("a",{href:"".concat(t.googleBaseUrl).concat(t.state.selectedSpot.parkingLat,",").concat(t.state.selectedSpot.parkingLng),target:"_blank",rel:"noopener noreferrer",children:"Get Directions"})]})},e.spot_id)}))]})})}}],[{key:"getDerivedStateFromError",value:function(t){this.setState({mapError:!0})}}]),s}(a.Component),D=Object(v.GoogleApiWrapper)((function(t){return{apiKey:"AIzaSyASDGCu1bl0W6-fct3mb0qi4msLcV8qgMQ",language:t.language}}))(M),V=s(27),E=s.n(V),I=s(36),_=function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(p.a)(a,[{key:"getFlowChange",value:function(){var t=this.props.spot,e=t.values,s=void 0===e?[]:e,n=t.currentValue,a=void 0===n?0:n,i=t.currentValueTime,c=void 0===i?new Date:i,o=new Date(c);if(void 0!==s&&s.length>0){var r=s.filter((function(t){return Date.parse(t.dateTime)<=o.setHours(o.getHours()-1)}));return(a-r.reduce((function(t,e){return new Date(t.dateTime)>new Date(e.dateTime)?t:e}),new Date(r[0].dateTime)).value).toFixed(2)}return 0}},{key:"getFlowChangeClass",value:function(){return this.props.spot.currentChange>0?"flow-positive":this.props.spot.currentChange<0?"flow-negative":"flow-flat"}},{key:"getStatusIcon",value:function(){switch(g(this.props.spot)){case"spot-optimum":return Object(n.jsx)("img",{src:s(32).default,alt:"Optimum Icon"});case"spot-in":return Object(n.jsx)("img",{src:s(33).default,alt:"Surfable Icon"});case"spot-out":return Object(n.jsx)("img",{src:s(34).default,alt:"Not Surfable Icon"});default:return""}}},{key:"render",value:function(){var t=this.props.spot,e=t.name,s=void 0===e?"Unknown":e,a=t.currentValue,i=void 0===a?0:a,c=t.min,o=void 0===c?0:c,r=t.max,l=void 0===r?0:r,d=t.unit,p=void 0===d?"unk":d,u=this.props.spot.currentChange;return Object(n.jsxs)("div",{className:"data-card-display",children:[Object(n.jsx)("div",{className:"status-icon",children:this.getStatusIcon()}),Object(n.jsx)("h2",{children:s}),Object(n.jsxs)("div",{className:"spot-values",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"".concat(k(i)," ").concat(p)}),Object(n.jsx)("h5",{className:this.getFlowChangeClass(),children:"".concat(u>0?"+":"").concat(k(u.toFixed(2)))})]}),Object(n.jsx)("h4",{children:"range: ".concat(k(o)," - ").concat(k(l)," ").concat(p)})]})]})}}]),a}(a.Component);_.defaultProps={spot:{}};var T=_,F=(s(74),function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).usgs_site="https://waterdata.usgs.gov/nwis/uv?".concat(n.props.spot.site),n}return Object(p.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"data-card-desc",children:[Object(n.jsxs)("div",{className:"overview-box",children:[Object(n.jsxs)("div",{className:"gage-box",children:[Object(n.jsx)("h4",{children:"Gage:"}),Object(n.jsx)("a",{href:this.usgs_site,target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)("h4",{className:"value",children:this.props.spot.site})})]}),"undefined"!==typeof this.props.spotDetail.difficulty?Object(n.jsxs)("div",{className:"diff-box",children:[Object(n.jsx)("h4",{children:"Difficulty:"}),Object(n.jsx)("h4",{className:"value",children:" ".concat(this.props.spotDetail.difficulty)})]}):""]}),"undefined"!==typeof this.props.spot.siteName?Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Gage Name:"}),Object(n.jsx)("a",{href:this.usgs_site,target:"_blank",rel:"noopener noreferrer",children:this.props.spot.siteName})]}):"","undefined"!==typeof this.props.spotDetail.desc?Object(n.jsxs)("div",{className:"describe-box",children:[Object(n.jsx)("h4",{children:"Description:"}),Object(n.jsx)("p",{children:this.props.spotDetail.desc})]}):"","undefined"!==typeof this.props.spotDetail.flowInfo?Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)("h4",{children:"Flow Info:"}),Object(n.jsx)("ul",{children:this.props.spotDetail.flowInfo.map((function(t){return Object(n.jsx)("li",{children:t},t)}))})]}):"","undefined"!==typeof this.props.spotDetail.links?Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)("h4",{children:"Links:"}),Object(n.jsx)("ul",{children:this.props.spotDetail.links.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:t.label})},t.label)}))})]}):"","undefined"!==typeof this.props.spotDetail.features?Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)("h4",{children:"Features:"}),Object(n.jsxs)("p",{children:[" ",this.props.spotDetail.features.join(", ")]})]}):"","undefined"!==typeof this.props.spotDetail.tricks?Object(n.jsxs)("div",{className:"info-box",children:[Object(n.jsx)("h4",{children:"Tricks:"}),Object(n.jsxs)("p",{children:[" ",this.props.spotDetail.tricks.join(", ")]})]}):""]})}}]),s}(a.Component)),L=(s(75),function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).months=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],n}return Object(p.a)(s,[{key:"isToday",value:function(t,e){var s="not-today",n=new Date,a=n.getUTCMonth()+1,i=n.getUTCDate();return this.months.indexOf(t)+1===a&&e===i&&(s="today"),s}},{key:"getColorValue",value:function(t,e){var s=this.getPercent(t,e),n="";return s>0&&s<=.1?n="break-point-1":s>.1&&s-.25<.001?n="break-point-2":s>.25&&s-.5<.001?n="break-point-3":s>.5&&s-.75<.001?n="break-point-4":s>.75&&(n="break-point-5"),n}},{key:"getPercent",value:function(t,e){var s=this.months.indexOf(t)+1,n=this.props.spotDetail.history,a=(void 0===n?[]:n).find((function(t){return t.month===s&&t.day===e}),{});return void 0===a?0:a.value}},{key:"getDays",value:function(){for(var t=[],e=0;e<31;e++)t.push(e+1);return t}},{key:"render",value:function(){var t=this;return(new Date).setMonth(1),Object(n.jsxs)("div",{className:"data-card-history",children:[Object(n.jsx)("h4",{children:"Daily Surf Probability"}),Object(n.jsxs)("table",{className:"legend",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"< 10%"}),Object(n.jsx)("th",{children:"10% - 25%"}),Object(n.jsx)("th",{children:"25% - 50%"}),Object(n.jsx)("th",{children:"50% - 75%"}),Object(n.jsx)("th",{children:"75% - 100%"})]})}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"break-point-1"})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"break-point-2"})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"break-point-3"})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"break-point-4"})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"break-point-5"})})]})})]}),Object(n.jsx)("div",{className:"history-chart-container",children:Object(n.jsxs)("table",{className:"history-chart",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:" "}),this.getDays().map((function(t){return Object(n.jsx)("th",{className:"day-".concat(t),children:t},t)}))]})}),Object(n.jsx)("tbody",{children:this.months.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"label-col",children:e}),t.getDays().map((function(s){return Object(n.jsx)("td",{className:t.isToday(e,s),children:Object(n.jsx)("div",{className:"day-".concat(s," ").concat(t.getColorValue(e,s)),children:" "})},s)}))]},e)}))})]})})]})}}]),s}(a.Component)),B=(s(76),function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).state={activeTab:"describe"},n.handleHeaderButtonClick=n.handleHeaderButtonClick.bind(Object(u.a)(n)),n}return Object(p.a)(s,[{key:"handleHeaderButtonClick",value:function(t){this.setState({activeTab:t})}},{key:"render",value:function(){var t=this,e=this.props.spotDetail,s=e.optimumFlowLow_i,a=void 0===s?0:s,i=e.optimumFlowHigh_i,c=void 0===i?0:i,o=this.props.spot.unit,r=void 0===o?"unk":o;return Object(n.jsxs)("div",{className:"data-card-detail",children:[Object(n.jsxs)("div",{className:"detail-header",children:[Object(n.jsx)("h4",{children:"optimum range: ".concat(k(a)," - ").concat(k(c)," ").concat(r)}),Object(n.jsxs)("div",{className:"tab-bar",children:[Object(n.jsx)("button",{className:"describe"===this.state.activeTab?"tab-button active":"tab-button",onClick:function(){return t.handleHeaderButtonClick("describe")},children:"Description"}),Object(n.jsx)("button",{className:"history"===this.state.activeTab?"tab-button active":"tab-button",onClick:function(){return t.handleHeaderButtonClick("history")},children:"History"})]})]}),Object(n.jsx)("div",{className:"detail-content",children:"describe"===this.state.activeTab?Object(n.jsx)(F,{spotDetail:this.props.spotDetail,spot:this.props.spot}):Object(n.jsx)(L,{spotDetail:this.props.spotDetail})})]})}}]),s}(a.Component)),H="https://us-west2-spokane-surf.cloudfunctions.net/surf-spots-api/overview",W="https://us-west2-spokane-surf.cloudfunctions.net/surf-spots-api/detail",R=function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).state={details:{}},n.onChangeExpand=n.onChangeExpand.bind(Object(u.a)(n)),n}return Object(p.a)(s,[{key:"fetchData",value:function(){var t=this;fetch("".concat(W,"/").concat(encodeURI(this.props.spot.name)),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(e){t.setState({details:e.find((function(e){return e.spot_id===t.props.spot.spot_id}))})}))}},{key:"onChangeExpand",value:function(){var t=Object(I.a)(E.a.mark((function t(e){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.target.checked&&this.fetchData();case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return Object(n.jsxs)("li",{className:"data-card",children:[Object(n.jsx)("input",{id:"detail-button-"+this.props.spot.spot_id,className:"detail-button",type:"checkbox",onChange:this.onChangeExpand,defaultChecked:this.props.expanded}),Object(n.jsxs)("label",{htmlFor:"detail-button-"+this.props.spot.spot_id,className:"detail-button-view",children:[Object(n.jsx)(T,{spot:this.props.spot}),Object(n.jsx)(B,{spotDetail:this.state.details,spot:this.props.spot})]})]})}}]),s}(a.Component);R.defaultProps={spot:{spot_id:0}};var A=R,U=function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(){return Object(d.a)(this,s),e.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){var t=this;return Object(n.jsx)("div",{className:"data-card-deck",children:Object(n.jsx)("ul",{children:this.props.spots.map((function(e){return Object(n.jsx)(A,{spot:e,expanded:t.props.expanded},e.spot_id)}))})})}}]),s}(a.Component),P=(s(77),function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).state={surfSpots:[],filteredSpots:[],mapVisible:!1,mapButtomVisible:!0,expandedCards:!1,filtered:!1,isLoaded:!1},n.toggleMapVisibility=n.toggleMapVisibility.bind(Object(u.a)(n)),n.toggleCardExpand=n.toggleCardExpand.bind(Object(u.a)(n)),n.filterSpots=n.filterSpots.bind(Object(u.a)(n)),n.unfilterSpots=n.unfilterSpots.bind(Object(u.a)(n)),n}return Object(p.a)(s,[{key:"toggleMapVisibility",value:function(){this.setState({mapVisible:!this.state.mapVisible})}},{key:"toggleCardExpand",value:function(){this.setState({expandedCards:!this.state.expandedCards})}},{key:"filterSpots",value:function(t){this.setState({filtered:!0,filteredSpots:this.state.surfSpots.filter((function(e){return e.spot_id===t})).sort(y)})}},{key:"unfilterSpots",value:function(){this.setState({filtered:!1}),this.getSurfSpots()}},{key:"getSurfSpots",value:function(){var t=this;Object(b.trackPromise)(fetch(H,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(e){var s=t.props.match.params.spot,n=parseInt(t.props.match.params.gage);s&&(e=e.filter((function(t){return t.name.toLowerCase()===s.toLowerCase()})),t.setState({mapVisible:!0,expandedCards:!0})),n&&1===(e=e.filter((function(t){return t.site===n}))).length&&t.setState({mapVisible:!0,expandedCards:!0}),t.setState({surfSpots:e,filteredSpots:e.sort(y)})})))}},{key:"componentDidMount",value:function(){var t=this;this.state.isLoaded||(this.getSurfSpots(),this.setState({isLoaded:!0})),this.interval=setInterval((function(){return t.getSurfSpots()}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(f,{mapVisible:this.state.mapVisible,toggleMapVisibility:this.toggleMapVisibility,mapButtomVisible:this.state.mapButtomVisible}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(D,{spots:this.state.surfSpots,mapVisible:this.state.mapVisible,filterSpots:this.filterSpots,unfilterSpots:this.unfilterSpots}),Object(n.jsx)(O,{}),Object(n.jsx)(U,{spots:this.state.filteredSpots,expanded:this.state.expandedCards}),Object(n.jsx)(m,{})]})]})}}]),s}(a.Component)),z=s(37),q=s.n(z),Z=(s(80),function(t){Object(h.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(d.a)(this,s),(n=e.call(this,t)).state={sent:!1,sentError:!1,validEmail:!0},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleReset=n.handleReset.bind(Object(u.a)(n)),n}return Object(p.a)(s,[{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.validate(t.target)&&q.a.sendForm("cmowry84_gmail_com","spokane_surf_template",t.target,"user_MSz5YgeHOFUkryf4ORwRH").then((function(t){e.setState({sent:!0})}),(function(t){e.setState({sentError:!0})}))}},{key:"handleReset",value:function(t){this.setState({sent:!1,sentError:!1})}},{key:"validate",value:function(t){return this.validateEmail(t.senderEmail.value)}},{key:"validateEmail",value:function(t){var e=/\S+@\S+/.test(String(t).toLowerCase());return this.setState({validEmail:e}),e}},{key:"render",value:function(){var t=this.state.sentError||this.state.sent?"hidden":"",e=this.state.validEmail?"floating-label":"floating-label-error";return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(f,{mapVisible:!1,mapButtomVisible:!1}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("div",{className:"contact-content",children:Object(n.jsxs)("div",{className:"contact-container",children:[this.state.sentError?Object(n.jsxs)("div",{className:"contact-form-sent-error",children:[Object(n.jsx)("h3",{children:"Error: Your message was not sent."}),Object(n.jsxs)("div",{className:"button-box",children:[Object(n.jsx)(r.b,{to:"/",children:"Cancel"}),Object(n.jsx)("button",{onClick:this.handleReset,children:"Try Again"})]})]}):this.state.sent?Object(n.jsxs)("div",{className:"contact-form-sent",children:[Object(n.jsx)("h3",{children:"Thank you for reaching out!"}),Object(n.jsx)("h3",{children:"We will get back to you as soon as possible."}),Object(n.jsx)("div",{className:"button-box",children:Object(n.jsx)(r.b,{to:"/",children:"Close"})})]}):"",Object(n.jsxs)("form",{className:"contact-form ".concat(t),onSubmit:this.handleSubmit,children:[Object(n.jsx)("h2",{children:"Contact Us:"}),Object(n.jsxs)("div",{className:"floating-label",children:[Object(n.jsx)("input",{type:"text",id:"senderName",name:"senderName",placeholder:"Name",required:!0}),Object(n.jsx)("label",{htmlFor:"senderName",children:"Name"})]}),Object(n.jsxs)("div",{className:e,children:[Object(n.jsx)("input",{type:"text",id:"senderEmail",name:"senderEmail",placeholder:"Email",required:!0}),Object(n.jsx)("label",{htmlFor:"senderEmail",children:this.state.validEmail?"Email":"Email - Enter valid email!"})]}),Object(n.jsxs)("div",{className:"message-box",children:[Object(n.jsx)("label",{htmlFor:"feedback",children:"Message:"}),Object(n.jsx)("textarea",{id:"feedback",name:"feedback",rows:"10",required:!0})]}),Object(n.jsxs)("div",{className:"button-box",children:[Object(n.jsx)(r.b,{to:"/",children:"Cancel"}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]})]})]})}),Object(n.jsx)(m,{})]})]})}}]),s}(a.Component)),G=(s(81),function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(d.a)(this,a),(s=e.call(this,t)).handleClose=s.handleClose.bind(Object(u.a)(s)),s}return Object(p.a)(a,[{key:"handleClose",value:function(t){this.props.close()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(f,{mapVisible:!1,mapButtomVisible:!1}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsxs)("div",{className:"help-container",children:[Object(n.jsxs)("div",{className:"symbol-def-container",children:[Object(n.jsx)("h3",{children:"Symbols"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:s(32).default,alt:"Optimum Icon"}),Object(n.jsx)("p",{children:"Surf spot is best at this level."})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:s(33).default,alt:"Surfable Icon"}),Object(n.jsx)("p",{children:"Surf spot is surfable at this level."})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:s(34).default,alt:"Not Surfable Icon"}),Object(n.jsx)("p",{children:"Surf spot is not surfable at this level."})]})]})]}),Object(n.jsxs)("div",{className:"display-def-container",children:[Object(n.jsx)("h3",{children:"Surf Spot Display"}),Object(n.jsx)("img",{src:s(82).default,alt:"Display Definition"})]}),Object(n.jsxs)("div",{className:"display-def-container",children:[Object(n.jsx)("h3",{children:"Directions"}),Object(n.jsx)("img",{src:s(83).default,alt:"Display Definition"})]}),Object(n.jsx)("div",{className:"button-box",children:Object(n.jsx)(r.b,{to:"/",children:"Close"})})]}),Object(n.jsx)(m,{})]})]})}}]),a}(a.Component));s(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsxs)(r.a,{basename:"/spokane-surf-report/",children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:P}),Object(n.jsx)(l.a,{exact:!0,path:"/spots",component:P}),Object(n.jsx)(l.a,{exact:!0,path:"/spots/:spot",component:P}),Object(n.jsx)(l.a,{exact:!0,path:"/gages/",component:P}),Object(n.jsx)(l.a,{exact:!0,path:"/gages/:gage",component:P}),Object(n.jsx)(l.a,{exact:!0,path:"/help",component:G}),Object(n.jsx)(l.a,{exact:!0,path:"/contact",component:Z})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[85,1,2]]]);
//# sourceMappingURL=main.461a9a3c.chunk.js.map